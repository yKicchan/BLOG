import Content from '~/components/organisms/Content'

export const meta = {
  title: 'ブログ始めました。',
  excerpt: 'Nex.js + MDX ベースで制作、配信には AWS Amplify を利用。',
  createdAt: '2020/7/4',
  tags: ['React', 'Next.js', 'TypeScript', 'MDX', 'Amplify', 'Neumorphism'],
}

export default ({ children }) => <Content meta={meta}>{children}</Content>

2 年前くらいから勉強も兼ねてブログ作って知見書き出したいなぁと思っていたのですが、ようやく重い腰をあげ公開することができました。  
何かチャレンジした結果や、Tips など細々とアウトプットしていこうと思ってます。

## 構成

Next.js + TypeScript ベースでサイトを作成しており、AWS の Amplify を使って簡単に ビルド/デプロイできるように設定しました。  
[リポジトリ](https://github.com/yKicchan/BLOG)は公開してますのでご自由にパクってください(汚いとこあるけどそれは許して)

### MDX で記事作成

記事データは MDX という形式で、 `/pages` 下に配置すると自動的に html に変換されるように設定しました。

```bash
$ npm i @next/mdx @mdx-js/loader
```

```ts
// next.config.js
const withMDX = require('@next/mdx')({
  extension: /\.mdx?$/,
})
module.exports = withMDX({
  pageExtensions: ['ts', 'tsx', 'mdx'],
})
```

- [@next/mdx](https://github.com/vercel/next.js/tree/canary/packages/next-mdx)

**TypeScript は義務** なのでそれも設定してます。

```ts
// types/mdx.d.ts
declare module '*.mdx' {
  let MDXComponent: (props: any) => JSX.Element
  export default MDXComponent
}
```

- [MDX | TypeScript](https://mdxjs.com/advanced/typescript)

当初は Gatsby や純粋な .md で作成する構想を練っていましたが、フォロワーさんから「Next.js がアプデでキテるからおすすめ」と教えてもらい、  
かつ前から Next.js を履修しておきたかったのもあって Next.js を採用してます。

### インフラは AWS Amplify

インフラ構築は業務で Amplify を触る機会があり、ちょうど知見があったのと、まとめて各種サービスを管理できる点に魅力を感じて採用しました。  
まあ楽したかっただけというのもありますが、将来的に機能追加するときもコマンド叩くだけで良いのが最高ですね。

ちなみに[公式ドキュメント](https://docs.amplify.aws/)めちゃわかりやすかった。

### デザイン

デザインは 2020 年のトレンドになりそうでなれなさそうな賛否両論の Neumorphism をベースにしています。  
ユーザーから見て、どこが押せるのか、どこがリンクなのか、単純な UI でもすごく表現の難しいものなので、  
多分このサイトもわかりづらいんだろうなぁと思いつつ気づいたら改善しようと思ってます...(見た目は新しくてお洒落に見えるんだけどね)

実はダークモードに対応したので、端末の設定によって色が変わるようになってます。

<details>
  <summary>ダークモード時のプレビュー</summary>

[![dark thema](/images/20200704/dark.png)](/images/20200704/dark.png)

</details>

<details>
  <summary>ライトモード時のプレビュー</summary>

[![light thema](/images/20200704/light.png)](/images/20200704/light.png)

</details>

## やりたい(願望)

まあどうせ検索されることはそうそうないと思うので気が向いたら対応というか、勉強という感じでやりたい。

- SEO 対策
- パフォーマンス改善・AMP 対応
- アクセシビリティ対応
- PWA 対応
